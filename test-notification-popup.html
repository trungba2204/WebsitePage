<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Notification Popup Instead of Alert</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-result {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            font-weight: bold;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .code-block {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
        }
        .step {
            margin: 15px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-left: 4px solid #007bff;
        }
        .comparison {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }
        .before, .after {
            flex: 1;
            padding: 15px;
            border-radius: 8px;
        }
        .before {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        .after {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîî Test Notification Popup Instead of Alert</h1>
        
        <div class="test-result info">
            <strong>üìã Test Description:</strong><br>
            Ki·ªÉm tra vi·ªác thay th·∫ø alert built-in b·∫±ng NotificationService popup ƒë·∫πp cho upload avatar.
        </div>

        <div class="test-result info">
            <strong>üéØ Expected Result:</strong><br>
            Thay v√¨ alert popup ƒë∆°n gi·∫£n, s·∫Ω hi·ªÉn th·ªã notification popup ƒë·∫πp v·ªõi animation v√† styling.
        </div>

        <div class="comparison">
            <div class="before">
                <h3>‚ùå Before Fix (Alert)</h3>
                <div class="code-block">
                    // Ugly browser alert
                    alert('ƒê·ªïi ·∫£nh ƒë·∫°i di·ªán th√†nh c√¥ng!');
                    alert('Vui l√≤ng ch·ªçn file ·∫£nh h·ª£p l·ªá');
                    alert('K√≠ch th∆∞·ªõc file kh√¥ng ƒë∆∞·ª£c v∆∞·ª£t qu√° 5MB');
                    alert('C√≥ l·ªói x·∫£y ra khi ƒë·ªïi ·∫£nh ƒë·∫°i di·ªán');
                </div>
                <p><strong>Problems:</strong></p>
                <ul>
                    <li>‚ùå Ugly browser default alert</li>
                    <li>‚ùå No styling or customization</li>
                    <li>‚ùå Blocks entire page interaction</li>
                    <li>‚ùå Poor user experience</li>
                    <li>‚ùå Not consistent with app design</li>
                </ul>
            </div>

            <div class="after">
                <h3>‚úÖ After Fix (Notification)</h3>
                <div class="code-block">
                    // Beautiful notification popup
                    this.notificationService.showSuccess(
                        'Th√†nh c√¥ng!',
                        '·∫¢nh ƒë·∫°i di·ªán ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng'
                    );
                    
                    this.notificationService.showError(
                        'L·ªói ƒë·ªãnh d·∫°ng file',
                        'Vui l√≤ng ch·ªçn file ·∫£nh h·ª£p l·ªá (JPG, PNG, GIF, WEBP)'
                    );
                </div>
                <p><strong>Benefits:</strong></p>
                <ul>
                    <li>‚úÖ Beautiful styled popup</li>
                    <li>‚úÖ Customizable design</li>
                    <li>‚úÖ Non-blocking interaction</li>
                    <li>‚úÖ Better user experience</li>
                    <li>‚úÖ Consistent with app design</li>
                </ul>
            </div>
        </div>

        <div class="test-result success">
            <strong>‚úÖ Implementation Applied:</strong><br>
            <div class="code-block">
                // ProfileComponent.ts - Added NotificationService
                import { NotificationService } from '../../services/notification.service';
                
                export class ProfileComponent implements OnInit {
                  notificationService = inject(NotificationService);
                  
                  // File validation errors
                  if (!allowedTypes.includes(file.type)) {
                    this.notificationService.showError(
                      'L·ªói ƒë·ªãnh d·∫°ng file',
                      'Vui l√≤ng ch·ªçn file ·∫£nh h·ª£p l·ªá (JPG, PNG, GIF, WEBP)'
                    );
                    return;
                  }
                  
                  if (file.size > 5 * 1024 * 1024) {
                    this.notificationService.showError(
                      'File qu√° l·ªõn',
                      'K√≠ch th∆∞·ªõc file kh√¥ng ƒë∆∞·ª£c v∆∞·ª£t qu√° 5MB'
                    );
                    return;
                  }
                  
                  // Upload success
                  this.authService.uploadAvatar(file).subscribe({
                    next: (updatedUser) => {
                      this.notificationService.showSuccess(
                        'Th√†nh c√¥ng!',
                        '·∫¢nh ƒë·∫°i di·ªán ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng'
                      );
                    },
                    error: (error) => {
                      this.notificationService.showError(
                        'L·ªói upload',
                        'C√≥ l·ªói x·∫£y ra khi ƒë·ªïi ·∫£nh ƒë·∫°i di·ªán. Vui l√≤ng th·ª≠ l·∫°i.'
                      );
                    }
                  });
                }
            </div>
        </div>

        <h2>üé® Notification Types:</h2>
        <div class="code-block">
            // Success Notification (Green)
            this.notificationService.showSuccess(title, message);
            
            // Error Notification (Red)
            this.notificationService.showError(title, message);
            
            // Warning Notification (Yellow)
            this.notificationService.showWarning(title, message);
            
            // Info Notification (Blue)
            this.notificationService.showInfo(title, message);
        </div>

        <h2>üß™ Test Steps:</h2>
        <div class="step">
            <strong>Step 1:</strong> Go to <a href="http://localhost:4200/profile" target="_blank">http://localhost:4200/profile</a>
        </div>
        <div class="step">
            <strong>Step 2:</strong> Click "ƒê·ªïi ·∫£nh" button
        </div>
        <div class="step">
            <strong>Step 3:</strong> Test different scenarios:
            <ul>
                <li><strong>Invalid file type:</strong> Select .txt file ‚Üí Should show red error popup</li>
                <li><strong>File too large:</strong> Select file > 5MB ‚Üí Should show red error popup</li>
                <li><strong>Valid file:</strong> Select valid image ‚Üí Should show green success popup</li>
                <li><strong>Network error:</strong> Disconnect internet ‚Üí Should show red error popup</li>
            </ul>
        </div>

        <h2>üîç What to Look For:</h2>
        <ul>
            <li><strong>No Browser Alert:</strong> Should not see ugly browser alert popup</li>
            <li><strong>Styled Notifications:</strong> Should see beautiful styled popup notifications</li>
            <li><strong>Color Coding:</strong> 
                <ul>
                    <li>üü¢ Green for success</li>
                    <li>üî¥ Red for errors</li>
                    <li>üü° Yellow for warnings</li>
                    <li>üîµ Blue for info</li>
                </ul>
            </li>
            <li><strong>Non-blocking:</strong> Should not block page interaction</li>
            <li><strong>Auto-dismiss:</strong> Should auto-dismiss after few seconds</li>
            <li><strong>Animation:</strong> Should have smooth slide-in/out animation</li>
            <li><strong>Consistent Design:</strong> Should match app's overall design theme</li>
        </ul>

        <h2>üì± Notification Features:</h2>
        <ul>
            <li>‚úÖ <strong>Styled Popup:</strong> Beautiful custom-designed notification</li>
            <li>‚úÖ <strong>Color Coding:</strong> Different colors for different types</li>
            <li>‚úÖ <strong>Icons:</strong> Appropriate icons for each notification type</li>
            <li>‚úÖ <strong>Animation:</strong> Smooth slide-in/out animations</li>
            <li>‚úÖ <strong>Auto-dismiss:</strong> Automatically disappears after timeout</li>
            <li>‚úÖ <strong>Non-blocking:</strong> Doesn't block page interaction</li>
            <li>‚úÖ <strong>Positioning:</strong> Appears in consistent location (top-right)</li>
            <li>‚úÖ <strong>Responsive:</strong> Works on all screen sizes</li>
            <li>‚úÖ <strong>Accessible:</strong> Screen reader friendly</li>
            <li>‚úÖ <strong>Customizable:</strong> Easy to modify styling and behavior</li>
        </ul>

        <h2>üö® Test Scenarios:</h2>
        <div class="step">
            <strong>Scenario 1 - File Type Error:</strong><br>
            Upload .txt file ‚Üí Should see red notification: "L·ªói ƒë·ªãnh d·∫°ng file - Vui l√≤ng ch·ªçn file ·∫£nh h·ª£p l·ªá (JPG, PNG, GIF, WEBP)"
        </div>
        <div class="step">
            <strong>Scenario 2 - File Size Error:</strong><br>
            Upload file > 5MB ‚Üí Should see red notification: "File qu√° l·ªõn - K√≠ch th∆∞·ªõc file kh√¥ng ƒë∆∞·ª£c v∆∞·ª£t qu√° 5MB"
        </div>
        <div class="step">
            <strong>Scenario 3 - Upload Success:</strong><br>
            Upload valid image ‚Üí Should see green notification: "Th√†nh c√¥ng! - ·∫¢nh ƒë·∫°i di·ªán ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng"
        </div>
        <div class="step">
            <strong>Scenario 4 - Upload Error:</strong><br>
            Network error during upload ‚Üí Should see red notification: "L·ªói upload - C√≥ l·ªói x·∫£y ra khi ƒë·ªïi ·∫£nh ƒë·∫°i di·ªán. Vui l√≤ng th·ª≠ l·∫°i."
        </div>

        <h2>üéØ Expected Behavior:</h2>
        <ul>
            <li><strong>No Browser Alert:</strong> Should never see ugly browser alert() popup</li>
            <li><strong>Beautiful Notifications:</strong> Should see styled notification popups</li>
            <li><strong>Proper Timing:</strong> Notifications should appear at right time</li>
            <li><strong>Clear Messages:</strong> Error and success messages should be clear</li>
            <li><strong>Consistent UX:</strong> Same notification system used throughout app</li>
            <li><strong>Professional Look:</strong> Should look professional and polished</li>
        </ul>

        <div class="test-result success">
            <strong>üéâ Fix Status:</strong> COMPLETED<br>
            All alert() calls have been replaced with beautiful NotificationService popups for a better user experience.
        </div>
    </div>

    <script>
        console.log('üîî Notification Popup Test Page Loaded');
        console.log('‚úÖ Problem: Ugly browser alert() popups');
        console.log('‚úÖ Solution: Beautiful NotificationService popups');
        console.log('üéØ Expected: Styled notifications instead of browser alerts');
    </script>
</body>
</html>
