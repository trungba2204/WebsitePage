<div class="favorites-page">
  <div class="container">
    <!-- Header -->
    <div class="favorites-header">
      <h1>Sản phẩm yêu thích</h1>
      <p>Danh sách các sản phẩm bạn đã thêm vào yêu thích</p>
    </div>

    <!-- Content -->
    @if (isLoading) {
      <div class="text-center py-5">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Đang tải...</span>
        </div>
        <p class="mt-3">Đang tải danh sách yêu thích...</p>
      </div>
    } @else if (favorites.length > 0) {
      <!-- Favorites Grid -->
      <div class="favorites-grid">
        @for (favorite of favorites; track favorite.id) {
          <div class="favorite-item">
            <div class="product-card">
              <div class="product-image">
                <img [src]="favorite.product.imageUrl" [alt]="favorite.product.name">
              </div>
              <div class="product-info">
                <h3 class="product-name">{{ favorite.product.name }}</h3>
                <p class="product-category">{{ favorite.product.category.name }}</p>
                <p class="product-price">{{ formatPrice(favorite.product.price) }}</p>
                <div class="product-actions">
                  <button 
                    class="btn btn-primary btn-sm"
                    [routerLink]="['/products', favorite.product.id]">
                    Xem chi tiết
                  </button>
                  <button 
                    class="btn btn-outline-danger btn-sm"
                    (click)="removeFromFavorites(favorite.productId)">
                    <i class="bi bi-heart-fill"></i>
                    Bỏ yêu thích
                  </button>
                </div>
              </div>
            </div>
          </div>
        }
      </div>

      <!-- Summary -->
      <div class="favorites-summary">
        <p class="text-muted">
          Bạn có <strong>{{ favorites.length }}</strong> sản phẩm yêu thích
        </p>
      </div>
    } @else {
      <!-- Empty State -->
      <div class="empty-favorites">
        <div class="empty-icon">
          <i class="bi bi-heart"></i>
        </div>
        <h3>Chưa có sản phẩm yêu thích</h3>
        <p>Hãy duyệt các sản phẩm và thêm vào yêu thích để xem lại sau</p>
        <a routerLink="/products" class="btn btn-primary">
          <i class="bi bi-bag me-2"></i>
          Xem sản phẩm
        </a>
      </div>
    }
  </div>
</div>
